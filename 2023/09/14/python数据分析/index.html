<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width,initial-scale=1,maximum-scale=2 name=viewport><meta content=#222 name=theme-color><meta content="Hexo 6.3.0" name=generator><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link href=/lib/font-awesome/css/all.min.css rel=stylesheet><script id=hexo-configurations>var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};</script><meta content="Main Takeaway 暑研期间主要做的就是数据分析的事情，那当然离不了python数据分析三件套了——在此记录三件套的基础学习（多用实践才能记住）  从原始数据中抽取出有价值的信息的这个过程我们就称之为数据分析，它是数据科学工作的一部分。" name=description><meta content=article property=og:type><meta content=python数据分析 property=og:title><meta content=http://example.com/2023/09/14/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html property=og:url><meta content=Immortal-Fates property=og:site_name><meta content="Main Takeaway 暑研期间主要做的就是数据分析的事情，那当然离不了python数据分析三件套了——在此记录三件套的基础学习（多用实践才能记住）  从原始数据中抽取出有价值的信息的这个过程我们就称之为数据分析，它是数据科学工作的一部分。" property=og:description><meta content=zh_CN property=og:locale><meta content=2023-09-14T03:30:12.000Z property=article:published_time><meta content=2023-09-14T03:34:54.407Z property=article:modified_time><meta content=Immortal-Fates property=article:author><meta content=CS property=article:tag><meta content=数据分析 property=article:tag><meta content=summary name=twitter:card><link href=http://example.com/2023/09/14/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ rel=canonical><script id=page-configurations>// https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };</script><title>python数据分析 | Immortal-Fates</title><noscript><style>.use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }</style></noscript><body itemscope itemtype=http://schema.org/WebPage><div class="container use-motion"><div class=headband></div><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <span class=logo-line-before><i></i></span> <h1 class=site-title>Immortal-Fates</h1> <span class=logo-line-after><i></i></span> </a></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu" id=menu><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-schedule"><a href=/schedule/ rel=section><i class="fa fa-calendar fa-fw"></i>日程表</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close> <i class="fa fa-times-circle"></i> </span></div><div id=search-result><div id=no-result><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class=back-to-top><i class="fa fa-arrow-up"></i><span>0%</span></div><a aria-label="Follow me on GitHub" title="Follow me on GitHub" class=github-corner href=https://github.com/Immortal-Fates rel=noopener target=_blank><svg viewbox="0 0 250 250" aria-hidden=true height=80 width=80><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" style="transform-origin: 130px 106px;" class=octo-arm fill=currentColor></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" class=octo-body fill=currentColor></path></svg></a><main class=main><div class=main-inner><div class=content-wrap><div class="content post posts-expand"><article class=post-block itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=http://example.com/2023/09/14/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/kuang.jpg itemprop=image> <meta content=Immortal-Fates itemprop=name> <meta content=愿你生命中有更多的云翳，来造就一个美丽的黄昏 itemprop=description> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content=Immortal-Fates itemprop=name> </span><header class=post-header><h1 itemprop="name headline" class=post-title>python数据分析</h1><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2023-09-14 11:30:12 / 修改时间：11:34:54" datetime=2023-09-14T11:30:12+08:00>2023-09-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/CS/ itemprop=url rel=index><span itemprop=name>CS</span></a> </span> </span><span style="display: none;" class=post-meta-item id=busuanzi_container_page_pv title=阅读次数> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span id=busuanzi_value_page_pv></span> </span></div></header><div class=post-body itemprop=articleBody><h1 id=main-takeaway>Main Takeaway</h1><p>暑研期间主要做的就是数据分析的事情，那当然离不了python数据分析三件套了——在此记录三件套的基础学习（多用实践才能记住）<blockquote><p><strong>从原始数据中抽取出有价值的信息</strong>的这个过程我们就称之为<strong>数据分析</strong>，它是数据科学工作的一部分。</blockquote><span id=more></span><h1 id=数据分析相关库>数据分析相关库</h1><p>使用 Python 从事数据科学相关的工作是一个非常棒的选择，因为 Python 整个生态圈中，有大量的成熟的用于数据科学的软件包（工具库）。而且不同于其他的用于数据科学的编程语言（如：Julia、R），Python 除了可以用于数据科学，能做的事情还很多，可以说 Python 语言几乎是无所不能的。<h4 id=三大神器>三大神器</h4><ol type=1><li><a href=https://numpy.org/ rel=noopener target=_blank>NumPy</a>：支持常见的数组和矩阵操作，通过<code>ndarray</code>类实现了对多维数组的封装，提供了操作这些数组的方法和函数集。由于 NumPy 内置了并行运算功能，当使用多核 CPU 时，Numpy会自动做并行计算。<li><a href=https://pandas.pydata.org/ rel=noopener target=_blank>Pandas</a>：pandas 的核心是其特有的数据结构<code>DataFrame</code>和<code>Series</code>，这使得 pandas 可以处理包含不同类型的数据的负责表格和时间序列，这一点是NumPy的<code>ndarray</code>做不到的。使用 pandas，可以轻松顺利的加载各种形式的数据，然后对数据进行切片、切块、处理缺失值、聚合、重塑和可视化等操作。<li><a href=https://matplotlib.org/ rel=noopener target=_blank>Matplotlib</a>：matplotlib 是一个包含各种绘图模块的库，能够根据我们提供的数据创建高质量的图形。此外，matplotlib 还提供了 pylab 模块，这个模块包含了很多像 <a href=https://www.mathworks.com/products/matlab.html rel=noopener target=_blank>MATLAB</a> 一样的绘图组件。</ol><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>import numpy as np</span><br><span class=line>import pandas as pd</span><br><span class=line>import matplotlib.pyplot as plt</span><br></pre></table></figure><h4 id=其他相关库>其他相关库</h4><ol type=1><li><a href=https://scipy.org/ rel=noopener target=_blank>SciPy</a>：完善了 NumPy 的功能，封装了大量科学计算的算法，包括线性代数、稀疏矩阵、信号和图像处理、最优化问题、快速傅里叶变换等。<li><a href=https://seaborn.pydata.org/ rel=noopener target=_blank>Seaborn</a>：seaborn 是基于 matplotlib 的图形可视化工具，直接使用 matplotlib 虽然可以定制出漂亮的统计图表，但是总体来说还不够简单方便，seaborn 相当于是对 matplotlib 做了封装，让用户能够以更简洁有效的方式做出各种有吸引力的统计图表。<li><a href=https://scikit-learn.org/ rel=noopener target=_blank>Scikit-learn</a>：scikit-learn 最初是 SciPy 的一部分，它是 Python 数据科学运算的核心，提供了大量机器学习可能用到的工具，包括：数据预处理、监督学习（分类、回归）、无监督学习（聚类）、模式选择、交叉检验等。<li><a href=https://www.statsmodels.org/stable/index.html rel=noopener target=_blank>Statsmodels</a>：包含了经典统计学和经济计量学算法的库。</ol><h1 id=numpy的应用>Numpy的应用</h1><p>Numpy 是一个开源的 Python 科学计算库，<strong>用于快速处理任意维度的数组</strong>。Numpy <strong>支持常见的数组和矩阵操作</strong>，对于同样的数值计算任务，使用 NumPy 不仅代码要简洁的多，而且 NumPy 的性能远远优于原生 Python，基本是一个到两个数量级的差距，而且数据量越大，NumPy 的优势就越明显。<p>Numpy 最为核心的数据类型是<code>ndarray</code>，使用<code>ndarray</code>可以处理一维、二维和多维数组，该对象相当于是一个快速而灵活的大数据容器。NumPy 底层代码使用 C 语言编写，解决了 GIL 的限制，<code>ndarray</code>在存取数据的时候，数据与数据的地址都是连续的，这确保了可以进行高效率的批量操作，远远优于 Python 中的<code>list</code>；另一方面<code>ndarray</code>对象提供了更多的方法来处理数据，尤其是和统计相关的方法，这些方法也是 Python 原生的<code>list</code>没有的<h2 id=创建数组对象>创建数组对象</h2><h2 id=数组对象的属性>数组对象的属性</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>size,shape,dtype,ndim,base</span><br></pre></table></figure><h2 id=数组的运算>数组的运算</h2><p><strong>表1：通用一元函数</strong><table><colgroup><col style="width: 41%"><col style="width: 58%"></colgroup><thead><tr class=header><th>函数<th>说明<tbody><tr class=odd><td><code>abs</code> / <code>fabs</code><td>求绝对值的函数<tr class=even><td><code>sqrt</code><td>求平方根的函数，相当于<code>array ** 0.5</code><tr class=odd><td><code>square</code><td>求平方的函数，相当于<code>array ** 2</code><tr class=even><td><code>exp</code><td>计算<span class="math inline">\(e^x\)</span>的函数<tr class=odd><td><code>log</code> / <code>log10</code> / <code>log2</code><td>对数函数（<code>e</code>为底 / <code>10</code>为底 / <code>2</code>为底）<tr class=even><td><code>sign</code><td>符号函数（<code>1</code> - 正数；<code>0</code> - 零；<code>-1</code> - 负数）<tr class=odd><td><code>ceil</code> / <code>floor</code><td>上取整 / 下取整<tr class=even><td><code>isnan</code><td>返回布尔数组，NaN对应<code>True</code>，非NaN对应<code>False</code><tr class=odd><td><code>isfinite</code> / <code>isinf</code><td>判断数值是否为无穷大的函数<tr class=even><td><code>cos</code> / <code>cosh</code> / <code>sin</code><td>三角函数<tr class=odd><td><code>sinh</code> / <code>tan</code> / <code>tanh</code><td>三角函数<tr class=even><td><code>arccos</code> / <code>arccosh</code> / <code>arcsin</code><td>反三角函数<tr class=odd><td><code>arcsinh</code> / <code>arctan</code> / <code>arctanh</code><td>反三角函数<tr class=even><td><code>rint</code> / <code>round</code><td>四舍五入函数</table><p><strong>表2：通用二元函数</strong><table><colgroup><col style="width: 36%"><col style="width: 63%"></colgroup><thead><tr class=header><th>函数<th>说明<tbody><tr class=odd><td><code>add(x, y)</code> / <code>substract(x, y)</code><td>加法函数 / 减法函数<tr class=even><td><code>multiply(x, y)</code> / <code>divide(x, y)</code><td>乘法函数 / 除法函数<tr class=odd><td><code>floor_divide(x, y)</code> / <code>mod(x, y)</code><td>整除函数 / 求模函数<tr class=even><td><code>allclose(x, y)</code><td>检查数组<code>x</code>和<code>y</code>元素是否几乎相等<tr class=odd><td><code>power(x, y)</code><td>数组<span class="math inline">\(x\)</span>的元素<span class="math inline">\(x_i\)</span>和数组<span class="math inline">\(y\)</span>的元素<span class="math inline">\(y_i\)</span>，计算<span class="math inline">\(x_i^{y_i}\)</span><tr class=even><td><code>maximum(x, y)</code> / <code>fmax(x, y)</code><td>两两比较元素获取最大值 / 获取最大值（忽略NaN）<tr class=odd><td><code>minimum(x, y)</code> / <code>fmin(x, y)</code><td>两两比较元素获取最小值 / 获取最小值（忽略NaN）<tr class=even><td><code>dot(x, y)</code><td>点积运算（数量积，通常记为<span class="math inline">\(\cdots\)</span>，用于欧几里得空间（Euclidean space））<tr class=odd><td><code>inner(x, y)</code><td>内积运算（内积的含义要高于点积，点积相当于是内积在欧几里得空间$<span class="math inline">\(的特例，而内积可以推广到**赋范向量空间**，只要它满足平行四边形法则即可） | | `cross(x, y) ` | 叉积运算（向量积，通常记为\)</span><span class="math inline">\(，运算结果是一个向量） | | `outer(x, y)` | 外积运算（张量积，通常记为\)</span>$，运算结果通常是一个矩阵）<tr class=even><td><code>intersect1d(x, y)</code><td>计算<code>x</code>和<code>y</code>的交集，返回这些元素构成的有序数组<tr class=odd><td><code>union1d(x, y)</code><td>计算<code>x</code>和<code>y</code>的并集，返回这些元素构成的有序数组<tr class=even><td><code>in1d(x, y)</code><td>返回由判断<code>x</code> 的元素是否在<code>y</code>中得到的布尔值构成的数组<tr class=odd><td><code>setdiff1d(x, y)</code><td>计算<code>x</code>和<code>y</code>的差集，返回这些元素构成的数组<tr class=even><td><code>setxor1d(x, y)</code><td>计算<code>x</code>和<code>y</code>的对称差，返回这些元素构成的数组</table><p><strong>表3：NumPy其他常用函数</strong><table><colgroup><col style="width: 38%"><col style="width: 61%"></colgroup><thead><tr class=header><th>函数<th>说明<tbody><tr class=odd><td><code>unique</code><td>去除数组重复元素，返回唯一元素构成的有序数组<tr class=even><td><code>copy</code><td>返回拷贝数组得到的数组<tr class=odd><td><code>sort</code><td>返回数组元素排序后的拷贝<tr class=even><td><code>split</code> / <code>hsplit</code> / <code>vsplit</code><td>将数组拆成若干个子数组<tr class=odd><td><code>stack</code> / <code>hstack</code> / <code>vstack</code><td>将多个数组堆叠成新数组<tr class=even><td><code>concatenate</code><td>沿着指定的轴连接多个数组构成新数组<tr class=odd><td><code>append</code> / <code>insert</code><td>向数组末尾追加元素 / 在数组指定位置插入元素<tr class=even><td><code>argwhere</code><td>找出数组中非0元素的位置<tr class=odd><td><code>extract</code> / <code>select</code> / <code>where</code><td>按照指定的条件从数组中抽取或处理数组元素<tr class=even><td><code>flip</code><td>沿指定的轴翻转数组中的元素<tr class=odd><td><code>fromiter</code><td>通过迭代器创建数组对象<tr class=even><td><code>fromregex</code><td>通过读取文件和正则表达式解析获取数据创建数组对象<tr class=odd><td><code>repeat</code> / <code>tile</code><td>通过对元素的重复来创建新数组<tr class=even><td><code>roll</code><td>沿指定轴对数组元素进行移位<tr class=odd><td><code>resize</code><td>重新调整数组的大小<tr class=even><td><code>place</code> / <code>put</code><td>将数组中满足条件的元素/指定的元素替换为指定的值<tr class=odd><td><code>partition</code><td>用选定的元素对数组进行一次划分并返回划分后的数组</table><blockquote><p><strong>提示</strong>：上面的<code>resize</code>函数和<code>ndarray</code>对象的<code>resize</code>方法是有区别的，<code>resize</code>函数在调整数组大小时会重复数组中的元素作为填补多出来的元素的值，而<code>ndarry</code>对象的<code>resize</code>方法是用0来填补多出来的元素。这些小细节不清楚暂时也不要紧，但是如果用到对应的功能了就要引起注意。</blockquote><h2 id=矩阵运算>矩阵运算</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>.matrix()  .mat</span><br></pre></table></figure><h2 id=线性代数模块>线性代数模块</h2><table><colgroup><col style="width: 17%"><col style="width: 82%"></colgroup><thead><tr class=header><th>函数<th>说明<tbody><tr class=odd><td><code>diag</code><td>以一维数组的形式返回方阵的对角线元素或将一维数组转换为方阵（非对角元素元素为0）<tr class=even><td><code>vdot</code><td>向量的点积<tr class=odd><td><code>dot</code><td>数组的点积<tr class=even><td><code>inner</code><td>数组的内积<tr class=odd><td><code>outer</code><td>数组的叉积<tr class=even><td><code>trace</code><td>计算对角线元素的和<tr class=odd><td><code>norm</code><td>求模（范数）运算<tr class=even><td><code>det</code><td>计算行列式的值（在方阵上计算会得到一个标量）<tr class=odd><td><code>matrix_rank</code><td>计算矩阵的秩<tr class=even><td><code>eig</code><td>计算矩阵的特征值（eigenvalue）和特征向量（eigenvector）<tr class=odd><td><code>inv</code><td>计算非奇异矩阵（<span class="math inline">\(n\)</span>阶方阵）的逆矩阵<tr class=even><td><code>pinv</code><td>计算矩阵的摩尔-彭若斯（Moore-Penrose）广义逆<tr class=odd><td><code>qr</code><td>QR分解（把矩阵分解成一个正交矩阵与一个上三角矩阵的积）<tr class=even><td><code>svd</code><td>计算奇异值分解（singular value decomposition）<tr class=odd><td><code>solve</code><td>解线性方程组<span class="math inline">\(\boldsymbol{A}\boldsymbol{x}=\boldsymbol{b}\)</span>，其中<span class="math inline">\(\boldsymbol{A}\)</span>是一个方阵<tr class=even><td><code>lstsq</code><td>计算<span class="math inline">\(\boldsymbol{A}\boldsymbol{x}=\boldsymbol{b}\)</span>的最小二乘解</table><h1 id=pandas的应用>Pandas的应用</h1><p>Pandas是Wes McKinney在2008年开发的一个强大的<strong>分析结构化数据</strong>的工具集。Pandas以NumPy为基础（数据表示和运算），提供了用于数据处理的函数和方法，对数据分析和数据挖掘提供了很好的支持；同时Pandas还可以跟数据可视化工具Matplotlib很好的整合在一起，非常轻松愉快的实现数据的可视化展示。<p>Pandas核心的数据类型是<code>Series</code>（数据系列）、<code>DataFrame</code>（数据表/数据框），分别用于处理一维和二维的数据，除此之外还有一个名为<code>Index</code>的类型及其子类型，它为<code>Series</code>和<code>DataFrame</code>提供了索引功能。日常工作中以<code>DataFrame</code>使用最为广泛，因为二维的数据本质就是一个有行有列的表格（想一想Excel电子表格和关系型数据库中的二维表）。上述这些类型都提供了大量的处理数据的方法，数据分析师可以以此为基础实现对数据的各种常规处理<h2 id=series的应用>Series的应用</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line># data参数表示数据，index参数表示数据的索引（标签）</span><br><span class=line># 如果没有指定index属性，默认使用数字索引</span><br><span class=line>ser1 = pd.Series(data=[320, 180, 300, 405], index=['一季度', '二季度', '三季度', '四季度'])</span><br><span class=line>ser1</span><br></pre></table></figure><p>通过字典创建Series对象<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line># 字典中的键就是数据的索引（标签），字典中的值就是数据</span><br><span class=line>ser2 = pd.Series({'一季度': 320, '二季度': 180, '三季度': 300, '四季度': 405})</span><br><span class=line>ser2</span><br></pre></table></figure><p>Series对象的常用属性如下表所示。<table><thead><tr class=header><th>属性<th>说明<tbody><tr class=odd><td><code>dtype</code> / <code>dtypes</code><td>返回<code>Series</code>对象的数据类型<tr class=even><td><code>hasnans</code><td>判断<code>Series</code>对象中有没有空值<tr class=odd><td><code>at</code> / <code>iat</code><td>通过索引访问<code>Series</code>对象中的单个值<tr class=even><td><code>loc</code> / <code>iloc</code><td>通过一组索引访问<code>Series</code>对象中的一组值<tr class=odd><td><code>index</code><td>返回<code>Series</code>对象的索引<tr class=even><td><code>is_monotonic</code><td>判断<code>Series</code>对象中的数据是否单调<tr class=odd><td><code>is_monotonic_increasing</code><td>判断<code>Series</code>对象中的数据是否单调递增<tr class=even><td><code>is_monotonic_decreasing</code><td>判断<code>Series</code>对象中的数据是否单调递减<tr class=odd><td><code>is_unique</code><td>判断<code>Series</code>对象中的数据是否独一无二<tr class=even><td><code>size</code><td>返回<code>Series</code>对象中元素的个数<tr class=odd><td><code>values</code><td>以<code>ndarray</code>的方式返回<code>Series</code>对象中的值</table><p><code>Series</code>对象还有一个名为<code>describe()</code>的方法，可以获得上述所有的<strong>描述性统计信息</strong>，如下所示。<p>代码：<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>ser2.describe()</span><br></pre></table></figure><blockquote><p><strong>提示</strong>：因为<code>describe()</code>返回的也是一个<code>Series</code>对象，所以也可以用<code>ser2.describe()['mean']</code>来获取平均值。</blockquote><p><code>Series</code>对象的<code>apply()</code>和<code>map()</code>方法非常重要，它们可以用于数据处理，把数据映射或转换成我们期望的样子，这个操作在数据分析的数据准备阶段非常重要。<h2 id=dataframe的应用>DataFrame的应用</h2><p>关于<code>DataFrame</code>的方法，首先需要了解的是<code>info()</code>方法，它可以帮助我们了解<code>DataFrame</code>的相关信息，如下所示。<p>代码：<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>emp_df.info()</span><br></pre></table></figure><h4 id=数据清洗>数据清洗</h4><p>通常，我们从 Excel、CSV 或数据库中获取到的数据并不是非常完美的，里面可能因为系统或人为的原因混入了重复值或异常值，也可能在某些字段上存在缺失值；再者，<code>DataFrame</code>中的数据也可能存在格式不统一、量纲不统一等各种问题。因此，在开始数据分析之前，对数据进行清洗就显得特别重要。<h5 id=缺失值>缺失值</h5><p>可以使用<code>DataFrame</code>对象的<code>isnull</code>或<code>isna</code>方法来找出数据表中的缺失值，如下所示。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>emp_df.isnull()</span><br></pre></table></figure><p>或者<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>emp_df.isna()</span><br></pre></table></figure><h5 id=异常值>异常值</h5><p>异常值在统计学上的全称是疑似异常值，也称作离群点（outlier），异常值的分析也称作离群点分析。异常值是指样本中出现的“极端值”，数据值看起来异常大或异常小，其分布明显偏离其余的观测值。实际工作中，有些异常值可能是由系统或人为原因造成的，但有些异常值却不是，它们能够重复且稳定的出现，属于正常的极端值，例如很多游戏产品中头部玩家的数据往往都是离群的极端值。所以，我们既不能忽视异常值的存在，也不能简单地把异常值从数据分析中剔除。重视异常值的出现，分析其产生的原因，常常成为发现问题进而改进决策的契机。<p>异常值的检测有Z-score 方法、IQR 方法、DBScan 聚类、孤立森林等，这里我们对前两种方法做一个简单的介绍。<p><a href=https://github.com/jackfrued/mypic/raw/master/20211004192858.png rel=noopener target=_blank><img alt=img src=https://github.com/jackfrued/mypic/raw/master/20211004192858.png></a><p>如果数据服从正态分布，依据3σ法则，异常值被定义与平均值的偏差超过三倍标准差的值。在正态分布下，距离平均值3σ之外的值出现的概率为$ P(|x-|>3)&LT0.003 $，属于小概率事件。如果数据不服从正态分布，那么可以用远离平均值的多少倍的标准差来描述，这里的倍数就是Z-score。Z-score以标准差为单位去度量某一原始分数偏离平均值的距离，公式如下所示。 <span class="math display">\[ z = \frac {X - \mu} {\sigma} \]</span> Z-score需要根据经验和实际情况来决定，通常把远离标准差<code>3</code>倍距离以上的数据点视为离群点，下面的代给出了如何通过Z-score方法检测异常值。<h1 id=数据可视化>数据可视化</h1><h4 id=绘制图表>绘制图表</h4><p>Series对象有一个名为<code>plot</code>的方法可以用来生成图表，如果选择生成折线图、饼图、柱状图等，默认会使用Series对象的索引作为横坐标，使用Series对象的数据作为纵坐标。<p>首先导入<code>matplotlib</code>中<code>pyplot</code>模块并进行必要的配置。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>import matplotlib.pyplot as plt</span><br><span class=line></span><br><span class=line># 配置支持中文的非衬线字体（默认的字体无法显示中文）</span><br><span class=line>plt.rcParams['font.sans-serif'] = ['SimHei', ]</span><br><span class=line># 使用指定的中文字体时需要下面的配置来避免负号无法显示</span><br><span class=line>plt.rcParams['axes.unicode_minus'] = False</span><br></pre></table></figure><p>创建<code>Series</code>对象并绘制对应的柱状图。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>ser9 = pd.Series({'一季度': 400, '二季度': 520, '三季度': 180, '四季度': 380})</span><br><span class=line># 通过Series对象的plot方法绘图（kind='bar'表示绘制柱状图）</span><br><span class=line>ser9.plot(kind='bar', color=['r', 'g', 'b', 'y'])</span><br><span class=line># x轴的坐标旋转到0度（中文水平显示）</span><br><span class=line>plt.xticks(rotation=0)</span><br><span class=line># 在柱状图的柱子上绘制数字</span><br><span class=line>for i in range(4):</span><br><span class=line>    plt.text(i, ser9[i] + 5, ser9[i], ha='center')</span><br><span class=line># 显示图像</span><br><span class=line>plt.show()</span><br></pre></table></figure><h3 id=绘图的流程>绘图的流程</h3><h4 id=创建画布>创建画布</h4><p><code>pyplot</code>模块的<code>figure</code>函数可以用来创建画布，创建画布时，可以通过<code>figsize</code>参数指定画布的尺寸（默认值是<code>[6.4, 4.8]</code>）；可以通过<code>dpi</code>参数设置绘图的分辨率，因为<code>dpi</code>代表了每英寸的像素点数量。除此之外，还可以通过<code>facecolor</code>参数设置画布的背景色。<code>figure</code>函数的返回值是一个<code>Figure</code>对象，它代表了绘图使用的画布，我们可以基于画布来创建绘图使用的坐标系。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.figure(figsize=(8, 4), dpi=120, facecolor='darkgray')</span><br></pre></table></figure><h4 id=创建坐标系>创建坐标系</h4><p>可以直接使用<code>pyplot</code>模块的<code>subplot</code>函数来创建坐标系，该函数会返回<code>Axes</code>对象。<code>subplot</code>的前三个参数分别用来指定整个画布分成几行几列以及当前坐标系的索引，这三个参数的默认值都是<code>1</code>。如果需要在画布上创建多个坐标系，就需要使用该函数，否则就直接使用默认的也是唯一的坐标系。当然，也可以通过上面创建的<code>Figure</code>对象的<code>add_subplot</code>方法或<code>add_axes</code>方法来创建坐标系，前者跟<code>subplot</code>函数的作用一致，后者会产生嵌套的坐标系。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>plt.subplot(2, 2, 1)</span><br></pre></table></figure><h4 id=绘制图像>绘制图像</h4><p>直接查官方文档：<a href=https://matplotlib.org/stable/tutorials/index.html rel=noopener target=_blank>Tutorials — Matplotlib 3.7.2 documentation</a><h4 id=显示或保存图像>显示或保存图像</h4><p>可以使用<code>pyplot</code>模块的<code>show</code>函数来显示绘制的图表，我们在上面的代码中使用过这个函数。如果希望保存图表，可以使用<code>savefig</code>函数。需要注意的是，如果要同时显示和保存图表，应该先执行<code>savefig</code>函数，再执行<code>show</code>函数，因为在调用<code>show</code>函数时，图表已经被释放，位于<code>show</code>函数之后的<code>savefig</code>保存的只是一个空白的区域。<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>plt.savefig('chart.png')</span><br><span class=line>plt.show()</span><br></pre></table></figure><h1 id=数据可视化-2>数据可视化-2</h1><p>通过前面的学习，我们已经对数据可视化工具 matplotlib 有一个初步的认知。大家可能也会发现了，matplotlib 提供的函数虽然强大，但是参数太多，要想对图表进行深度的定制就需要修改一系列的参数，这一点对新手并不友好。另一方面，使用 matplotlib 定制的统计图是静态图表，可能在某些需要交互效果的场景下并不合适。为了解决这两个问题，我们为大家介绍两个新的可视化工具，一个是 seaborn，一个是 pyecharts。<p><a href=https://github.com/jackfrued/Python-100-Days/blob/master/Day66-80/76.数据可视化-2.md rel=noopener target=_blank>Python-100-Days/Day66-80/76.数据可视化-2.md at master · jackfrued/Python-100-Days (github.com)</a><h1 id=references>References</h1><ul><li>https://github.com/jackfrued/Python-100-Days/blob/master/Day66-80/66.%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A6%82%E8%BF%B0.md</ul></div><div><ul class=post-copyright><li class=post-copyright-author><strong>本文作者： </strong>Immortal-Fates<li class=post-copyright-link><strong>本文链接：</strong> <a href=http://example.com/2023/09/14/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ title=python数据分析>http://example.com/2023/09/14/python数据分析/</a><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</ul></div><footer class=post-footer><div class=post-tags><a href=/tags/CS/ rel=tag># CS</a><a href=/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/ rel=tag># 数据分析</a></div><div class=post-nav><div class=post-nav-item><a href=/2023/09/11/C%E8%AF%AD%E8%A8%80%E5%9C%A8%E5%8D%95%E7%89%87%E6%9C%BA%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/ rel=prev title=C语言在单片机中的应用> <i class="fa fa-chevron-left"></i> C语言在单片机中的应用 </a></div><div class=post-nav-item><a href=/2023/09/18/%E5%A4%8D%E5%8F%98%E5%87%BD%E6%95%B0%E4%B8%8E%E7%A7%AF%E5%88%86%E5%8F%98%E6%8D%A2%EF%BC%881%EF%BC%89/ rel=next title=复变函数与积分变换（1）——预备知识> 复变函数与积分变换（1）——预备知识 <i class="fa fa-chevron-right"></i> </a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#main-takeaway><span class=nav-number>1.</span> <span class=nav-text>Main Takeaway</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E7%9B%B8%E5%85%B3%E5%BA%93><span class=nav-number>2.</span> <span class=nav-text>数据分析相关库</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E4%B8%89%E5%A4%A7%E7%A5%9E%E5%99%A8><span class=nav-number>2.0.0.1.</span> <span class=nav-text>三大神器</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E5%BA%93><span class=nav-number>2.0.0.2.</span> <span class=nav-text>其他相关库</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#numpy%E7%9A%84%E5%BA%94%E7%94%A8><span class=nav-number>3.</span> <span class=nav-text>Numpy的应用</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1><span class=nav-number>3.1.</span> <span class=nav-text>创建数组对象</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7><span class=nav-number>3.2.</span> <span class=nav-text>数组对象的属性</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E7%BB%84%E7%9A%84%E8%BF%90%E7%AE%97><span class=nav-number>3.3.</span> <span class=nav-text>数组的运算</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97><span class=nav-number>3.4.</span> <span class=nav-text>矩阵运算</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E6%A8%A1%E5%9D%97><span class=nav-number>3.5.</span> <span class=nav-text>线性代数模块</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#pandas%E7%9A%84%E5%BA%94%E7%94%A8><span class=nav-number>4.</span> <span class=nav-text>Pandas的应用</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#series%E7%9A%84%E5%BA%94%E7%94%A8><span class=nav-number>4.1.</span> <span class=nav-text>Series的应用</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#dataframe%E7%9A%84%E5%BA%94%E7%94%A8><span class=nav-number>4.2.</span> <span class=nav-text>DataFrame的应用</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97><span class=nav-number>4.2.0.1.</span> <span class=nav-text>数据清洗</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#%E7%BC%BA%E5%A4%B1%E5%80%BC><span class=nav-number>4.2.0.1.1.</span> <span class=nav-text>缺失值</span></a><li class="nav-item nav-level-5"><a class=nav-link href=#%E5%BC%82%E5%B8%B8%E5%80%BC><span class=nav-number>4.2.0.1.2.</span> <span class=nav-text>异常值</span></a></ol></ol></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96><span class=nav-number>5.</span> <span class=nav-text>数据可视化</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%BB%98%E5%88%B6%E5%9B%BE%E8%A1%A8><span class=nav-number>5.0.0.1.</span> <span class=nav-text>绘制图表</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%BB%98%E5%9B%BE%E7%9A%84%E6%B5%81%E7%A8%8B><span class=nav-number>5.0.1.</span> <span class=nav-text>绘图的流程</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E7%94%BB%E5%B8%83><span class=nav-number>5.0.1.1.</span> <span class=nav-text>创建画布</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E5%9D%90%E6%A0%87%E7%B3%BB><span class=nav-number>5.0.1.2.</span> <span class=nav-text>创建坐标系</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%BB%98%E5%88%B6%E5%9B%BE%E5%83%8F><span class=nav-number>5.0.1.3.</span> <span class=nav-text>绘制图像</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%98%BE%E7%A4%BA%E6%88%96%E4%BF%9D%E5%AD%98%E5%9B%BE%E5%83%8F><span class=nav-number>5.0.1.4.</span> <span class=nav-text>显示或保存图像</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-2><span class=nav-number>6.</span> <span class=nav-text>数据可视化-2</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#references><span class=nav-number>7.</span> <span class=nav-text>References</span></a></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img alt=Immortal-Fates class=site-author-image itemprop=image src=/images/kuang.jpg><p class=site-author-name itemprop=name>Immortal-Fates<div class=site-description itemprop=description>愿你生命中有更多的云翳，来造就一个美丽的黄昏</div></div><div class="site-state-wrap motion-element"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>41</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>7</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>13</span> <span class=site-state-item-name>标签</span></a></div></nav></div></div></div></aside><div id=sidebar-dimmer></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2023</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Immortal-Fates</span></div><div class=powered-by><!--由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动 --></div><script async src=http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container_site_pv>总访问量<span id=busuanzi_value_site_pv></span>次</span><span class=post-meta-divider>|</span><span id=busuanzi_container_site_uv>总访客数<span id=busuanzi_value_site_uv></span>人</span><span class=post-meta-divider>|</span><!-- 不蒜子计数初始值纠正 --><script>$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});</script><div class=busuanzi-count><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span style="display: none;" class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-divider>|</span><span style="display: none;" class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div></div></footer></div><script color=0,0,255 count=99 opacity=0.5 src=/lib/canvas-nest/canvas-nest.min.js zindex=-1></script><script src=/lib/anime.min.js></script><script src=/lib/velocity/velocity.min.js></script><script src=/lib/velocity/velocity.ui.min.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/schemes/pisces.js></script><script src=/js/next-boot.js></script><script src=/js/local-search.js></script><script>if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }</script>